* make-audiobook

A script to convert ebooks or any other long documents into audiobooks using Piper TTS, with support for batch processing and ID3 tagging.

** Important
Input files must be DRM-free. This tool cannot process DRM-protected ebooks (e.g., Kindle .azw, Adobe DRM .epub). Use DRM-free sources or legally remove DRM from files you own.

** Features
- Converts one or more text files to MP3 audiobooks using Piper TTS
- Supports batch processing
- Optionally add ID3 metadata (author, book title, track number can be calculated from file name)
- Select voices interactively or randomly

** Quickstart
*** Install

See [[./docs/installation.md][Installation Guide]] for detailed instructions for macOS, Linux, and Windows.

**** Quick Install (macOS)
#+begin_src bash
brew tap tigger04/make-audiobook
brew install make-audiobook
#+end_src

**** Quick Install (from source)
#+begin_src bash
git clone --recursive https://github.com/tigger04/make-audiobook
cd make-audiobook
./install-dependencies
#+end_src

*** Usage
On first run, it will download voices. Note: English (GB and US) voices are configured,
but adjust the =piper-voices-setup= script to download voices in other languages.
#+begin_src bash
# interactively choose voice to use
make-audiobook mybook.txt
# using a random voice
make-audiobook mybook.epub --random-voice

# using a random voice, but only use medium quality voices
make-audiobook chapter1.docx chapter2.docx --random=medium

# use wildcards so that chapter01, chapter02, ... etc all get processed
make-audiobook chapter*.md 
#+end_src

** Requirements
- Piper TTS (https://github.com/rhasspy/piper) (via pip or pipx)
- Python 3.8 or higher
- ffmpeg
- pandoc
- fzf (for interactive voice selection)
- fd (fast alternative to the =find= command)
- bash v5.0 or higher

The install-dependencies script will offer to install these for you, for macOS
or Linux (assuming Debian/Ubuntu family with APT package manager). For other
Linux distributions, you may need to install the dependencies manually.

** Options
- -u, --update-voices :: Update installed Piper voices
- -r, --random-voice :: Use a random voice for each file
- -r=medium, --random=medium :: Use a random voice for each file, but only use medium quality voices
- -l, --list-voices :: List available Piper voices
- -h, --help :: Show the help message

** Voice Setup
On first run, if no Piper voices are found, the script will prompt you to run =piper-voices-setup= to download voices.

** Metadata
You will be prompted for author and book title. These will be added as ID3 tags to the output MP3 files.

** License
MIT
